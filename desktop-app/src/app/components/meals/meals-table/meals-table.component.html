<div *ngIf="!IsLoading; else loadingContent" class="flex flex-col justify-between w-full h-full">
    <div class="z-10 flex relative items-center w-full justify-between pb-16">
        <div class="flex flex-col text-gray-800 mr-6 flex-shrink-0">
            <span class="font-semibold text-2xl">Meals</span>
            <span class="text-base">Here are all of your meals!</span>
        </div>

        <div class="flex w-full mx-6">
            <input type="text" placeholder="Search order by ID" class="px-4 py-2 shadow-lg w-full focus:outline-none focus:ring rounded"/>
        </div>
    </div>
    <div class="flex">
        <div class="flex w-full h-full">
            <div class="relative flex-auto w-full">
                <div routerLink="new" class="z-10 cursor-pointer focus:outline-none hover:bg-gray-600 flex items-center right-0 rounded-full shadow-xl -mt-6 -mr-8 absolute px-4 py-2 bg-gray-700 text-white text-center">
                    <span class="mr-2">
                        <svg class="w-6 h-6 fill-current" viewBox="0 0 24 24"  xmlns="http://www.w3.org/2000/svg">
                             <path d="M10 13H4C3.73478 13 3.48043 13.1054 3.29289 13.2929C3.10536 13.4804 3 13.7348 3 14V20C3 20.2652 3.10536 20.5196 3.29289 20.7071C3.48043 20.8946 3.73478 21 4 21H10C10.2652 21 10.5196 20.8946 10.7071 20.7071C10.8946 20.5196 11 20.2652 11 20V14C11 13.7348 10.8946 13.4804 10.7071 13.2929C10.5196 13.1054 10.2652 13 10 13ZM9 19H5V15H9V19ZM20 3H14C13.7348 3 13.4804 3.10536 13.2929 3.29289C13.1054 3.48043 13 3.73478 13 4V10C13 10.2652 13.1054 10.5196 13.2929 10.7071C13.4804 10.8946 13.7348 11 14 11H20C20.2652 11 20.5196 10.8946 20.7071 10.7071C20.8946 10.5196 21 10.2652 21 10V4C21 3.73478 20.8946 3.48043 20.7071 3.29289C20.5196 3.10536 20.2652 3 20 3ZM19 9H15V5H19V9ZM20 16H18V14C18 13.7348 17.8946 13.4804 17.7071 13.2929C17.5196 13.1054 17.2652 13 17 13C16.7348 13 16.4804 13.1054 16.2929 13.2929C16.1054 13.4804 16 13.7348 16 14V16H14C13.7348 16 13.4804 16.1054 13.2929 16.2929C13.1054 16.4804 13 16.7348 13 17C13 17.2652 13.1054 17.5196 13.2929 17.7071C13.4804 17.8946 13.7348 18 14 18H16V20C16 20.2652 16.1054 20.5196 16.2929 20.7071C16.4804 20.8946 16.7348 21 17 21C17.2652 21 17.5196 20.8946 17.7071 20.7071C17.8946 20.5196 18 20.2652 18 20V18H20C20.2652 18 20.5196 17.8946 20.7071 17.7071C20.8946 17.5196 21 17.2652 21 17C21 16.7348 20.8946 16.4804 20.7071 16.2929C20.5196 16.1054 20.2652 16 20 16ZM10 3H4C3.73478 3 3.48043 3.10536 3.29289 3.29289C3.10536 3.48043 3 3.73478 3 4V10C3 10.2652 3.10536 10.5196 3.29289 10.7071C3.48043 10.8946 3.73478 11 4 11H10C10.2652 11 10.5196 10.8946 10.7071 10.7071C10.8946 10.5196 11 10.2652 11 10V4C11 3.73478 10.8946 3.48043 10.7071 3.29289C10.5196 3.10536 10.2652 3 10 3ZM9 9H5V5H9V9Z" fill="white"/>
                        </svg>
                    </span>
                    <span class="font-semibold">Add Meal</span>
                </div>
                <div class="absolute inset-0 bg-gradient-to-b from-yellow-500 to-yellow-800 shadow-lg transform -skew-y-6 sm:skew-y-0 sm:rotate-6 rounded-3xl 2xl:-skew-y-4 2xl:rotate-4"
                ></div>
                <div class="relative bg-white w-full rounded-3xl overflow-hidden shadow-lg">
                    <table class="table-auto text-gray-800 bg-gray-100 w-full">
                        <thead>
                            <tr class="shadow-sm ">
                                <th  class="py-4 bg-white "></th>
                                <th *ngFor="let header of headers" class="flex-shrink-0 flex-nowrap py-4 bg-white text-gray-800 " >{{header}}</th>
                                <th  class="py-4 bg-white "></th>
                            </tr>
                        </thead>
                        <tbody class="divide-y">
                            <tr *ngFor="let meal of meals |  paginate: { itemsPerPage: IsScreenBigger() ? 7 : 5 , currentPage: page } " >
                                <td class="px-4">
                                    <div class="mx-auto w-28 h-16 rounded-3xl overflow-hidden shadow-md">
                                        <img [src]="meal.image" class="w-full h-full object-cover "/>
                                    </div>
                                </td>
                                <td  
                                *ngFor="let field of getColumns()" class="text-center py-6 px-2">
                                    <p [ngClass]="{'w-40 truncate': field === 'description' || field === 'products'}">
                                        {{meal[field]}}
                                    </p>
                                </td>
                                <td class="w-20 relative">
                                    <app-meal-options [meal]="meal"></app-meal-options>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
         </div>
    </div>
    <div class="flex items-center py-6">
        <span class="flex text-lg  text-gray-700 mr-6">Showing {{innerHeight > 800 ? 7 : 5}} items from {{getMealsNumber()}} data</span>
        <pagination-controls 
            class="pagination"
            (pageChange)="page = $event"
            autoHide="true"
            directionLinks="true"
            maxSize="10"
            previousLabel=""
            nextLabel=""
        ></pagination-controls>
    </div>
</div>


<ng-template #loadingContent>
    <div  class="flex justify-center">
        <span class="flex flex-col items-center">
            <div>
            <svg class="h-16 w-44 mb-20" viewBox="0 0 142 52" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M43.856 20.16C43.856 21.456 43.424 22.424 42.56 23.064C42.144 23.368 41.712 23.608 41.264 23.784C40.832 23.944 40.408 24.024 39.992 24.024H34.76C34.344 24.024 33.912 23.944 33.464 23.784C33.032 23.608 32.608 23.368 32.192 23.064C31.776 22.744 31.456 22.352 31.232 21.888C31.008 21.408 30.896 20.832 30.896 20.16V8.76C30.896 8.12 31.008 7.56 31.232 7.08C31.456 6.584 31.776 6.184 32.192 5.88H32.168C32.584 5.608 33.016 5.384 33.464 5.208C33.912 5.032 34.344 4.944 34.76 4.944H39.992C40.408 4.944 40.84 5.032 41.288 5.208C41.736 5.384 42.168 5.608 42.584 5.88H42.56C42.976 6.184 43.296 6.584 43.52 7.08C43.744 7.56 43.856 8.12 43.856 8.76V10.416C43.856 11.184 43.376 11.568 42.416 11.568C41.472 11.568 41 11.184 41 10.416V8.976C41 8.576 40.88 8.208 40.64 7.872C40.4 7.536 39.984 7.368 39.392 7.368H35.36C34.768 7.368 34.352 7.536 34.112 7.872C33.872 8.208 33.752 8.576 33.752 8.976V19.968C33.752 20.384 33.872 20.76 34.112 21.096C34.352 21.432 34.768 21.6 35.36 21.6H39.392C39.984 21.6 40.4 21.432 40.64 21.096C40.88 20.76 41 20.384 41 19.968V18.576C41 17.824 41.472 17.448 42.416 17.448C43.376 17.448 43.856 17.824 43.856 18.576V20.16ZM49.7503 22.992C49.7503 23.76 49.3103 24.144 48.4303 24.144C47.5503 24.144 47.1103 23.76 47.1103 22.992V5.952C47.1103 5.184 47.5503 4.8 48.4303 4.8C49.3103 4.8 49.7503 5.184 49.7503 5.952V9.552H54.8143C55.6303 9.552 56.4783 9.856 57.3583 10.464C58.2223 11.072 58.6543 12.032 58.6543 13.344V22.992C58.6543 23.76 58.2143 24.144 57.3343 24.144C56.4543 24.144 56.0143 23.76 56.0143 22.992V13.56C56.0143 13.144 55.8863 12.744 55.6303 12.36L55.6543 12.384C55.4463 12 55.0223 11.808 54.3823 11.808H49.7503V22.992ZM78.8116 22.992C78.8116 23.76 78.3716 24.144 77.4916 24.144C76.5796 24.144 76.1236 23.76 76.1236 22.992V13.056C76.1236 11.744 76.5156 10.832 77.2996 10.32C78.0836 9.808 78.9876 9.552 80.0116 9.552H82.7476C83.3396 9.552 83.6356 9.928 83.6356 10.68C83.6676 11.432 83.3716 11.808 82.7476 11.808H80.2036C79.6276 11.808 79.2516 11.92 79.0756 12.144C78.8996 12.368 78.8116 12.68 78.8116 13.08V22.992ZM88.2809 22.992C88.2809 23.376 88.1449 23.664 87.8729 23.856C87.6009 24.048 87.3049 24.144 86.9849 24.144C86.1049 24.144 85.6649 23.76 85.6649 22.992V5.952C85.6649 5.184 86.1049 4.8 86.9849 4.8C87.8649 4.8 88.3049 5.184 88.3049 5.952V9.552H93.3689C94.1849 9.552 95.0329 9.856 95.9129 10.464C96.7769 11.072 97.2089 12.032 97.2089 13.344V20.496C97.2089 21.824 96.8169 22.736 96.0329 23.232C95.2489 23.744 94.3529 24 93.3449 24H90.5129C89.9369 24 89.6329 23.624 89.6009 22.872C89.6009 22.12 89.9049 21.744 90.5129 21.744H92.9129C93.5049 21.744 93.9289 21.64 94.1849 21.432C94.4409 21.208 94.5689 20.888 94.5689 20.472V13.56C94.5689 13.144 94.4409 12.744 94.1849 12.36L94.2089 12.384C94.0009 12 93.5769 11.808 92.9369 11.808H88.3049L88.2809 22.992ZM103.773 24C103.277 24 102.805 23.936 102.357 23.808C101.909 23.664 101.477 23.464 101.061 23.208V23.232C100.277 22.736 99.8853 21.824 99.8853 20.496V19.32C99.8853 18.664 99.9973 18.096 100.221 17.616C100.461 17.12 100.789 16.728 101.205 16.44H101.181C101.581 16.168 102.005 15.968 102.453 15.84C102.901 15.696 103.333 15.624 103.749 15.624H109.053V13.392C109.053 12.992 108.925 12.632 108.669 12.312C108.429 11.976 108.013 11.808 107.421 11.808H104.613C104.005 11.808 103.581 11.96 103.341 12.264C103.117 12.552 103.005 12.896 103.005 13.296V13.488C103.005 14.32 102.557 14.736 101.661 14.736C100.765 14.736 100.317 14.32 100.317 13.488V13.272C100.317 12.616 100.429 12.064 100.653 11.616C100.893 11.168 101.213 10.792 101.613 10.488H101.589C102.005 10.216 102.437 9.992 102.885 9.816C103.349 9.64 103.789 9.552 104.205 9.552H107.853C108.253 9.552 108.677 9.64 109.125 9.816C109.589 9.992 110.021 10.216 110.421 10.488H110.397C110.813 10.792 111.133 11.192 111.357 11.688C111.581 12.168 111.693 12.728 111.693 13.368V22.992C111.693 23.76 111.253 24.144 110.373 24.144C110.197 24.144 110.029 24.136 109.869 24.12C109.725 24.104 109.589 24.064 109.461 24C109.349 23.92 109.253 23.816 109.173 23.688C109.109 23.544 109.077 23.36 109.077 23.136L109.053 17.88H104.205C103.853 17.88 103.581 17.92 103.389 18C103.197 18.08 103.045 18.208 102.933 18.384C102.805 18.656 102.709 18.872 102.645 19.032C102.597 19.176 102.573 19.344 102.573 19.536V20.472C102.573 20.888 102.693 21.208 102.933 21.432C103.189 21.64 103.621 21.744 104.229 21.744H106.917C107.509 21.744 107.805 22.12 107.805 22.872C107.805 23.192 107.733 23.464 107.589 23.688C107.445 23.896 107.221 24 106.917 24H103.773Z" fill="#161E2E"/>
                <path d="M3.186 47H1.674V34.436H6.678C7.782 34.436 8.64 34.742 9.252 35.354C9.876 35.966 10.188 36.848 10.188 38C10.188 38.924 9.972 39.686 9.54 40.286C9.12 40.874 8.496 41.264 7.668 41.456L10.548 47H8.838L6.12 41.6H3.186V47ZM6.678 40.304C7.278 40.304 7.74 40.148 8.064 39.836C8.4 39.524 8.568 39.08 8.568 38.504V37.568C8.568 36.992 8.4 36.548 8.064 36.236C7.74 35.924 7.278 35.768 6.678 35.768H3.186V40.304H6.678ZM16.6077 47V34.436H24.2757V35.768H18.1197V39.98H23.9157V41.312H18.1197V45.668H24.2757V47H16.6077ZM34.0498 47.216C33.0298 47.216 32.1598 47.024 31.4398 46.64C30.7198 46.244 30.1078 45.704 29.6038 45.02L30.7198 44.084C31.1638 44.672 31.6558 45.122 32.1958 45.434C32.7358 45.734 33.3718 45.884 34.1038 45.884C35.0038 45.884 35.6878 45.668 36.1558 45.236C36.6358 44.804 36.8758 44.228 36.8758 43.508C36.8758 42.908 36.6958 42.446 36.3358 42.122C35.9758 41.798 35.3818 41.54 34.5538 41.348L33.5278 41.114C32.3758 40.85 31.4938 40.454 30.8818 39.926C30.2818 39.386 29.9818 38.63 29.9818 37.658C29.9818 37.106 30.0838 36.614 30.2878 36.182C30.4918 35.75 30.7738 35.39 31.1338 35.102C31.5058 34.814 31.9438 34.598 32.4478 34.454C32.9638 34.298 33.5278 34.22 34.1398 34.22C35.0878 34.22 35.8978 34.394 36.5698 34.742C37.2538 35.09 37.8298 35.6 38.2978 36.272L37.1638 37.1C36.8158 36.62 36.3958 36.242 35.9038 35.966C35.4118 35.69 34.7998 35.552 34.0678 35.552C33.2638 35.552 32.6278 35.726 32.1598 36.074C31.7038 36.41 31.4758 36.92 31.4758 37.604C31.4758 38.204 31.6678 38.66 32.0518 38.972C32.4478 39.272 33.0418 39.512 33.8338 39.692L34.8598 39.926C36.0958 40.202 36.9898 40.622 37.5418 41.186C38.0938 41.75 38.3698 42.5 38.3698 43.436C38.3698 44.012 38.2678 44.534 38.0638 45.002C37.8718 45.47 37.5898 45.866 37.2178 46.19C36.8458 46.514 36.3898 46.766 35.8498 46.946C35.3218 47.126 34.7218 47.216 34.0498 47.216ZM48.4023 35.768V47H46.8903V35.768H42.8943V34.436H52.3983V35.768H48.4023ZM64.5813 47L63.3213 43.292H58.2453L56.9853 47H55.4553L59.8473 34.436H61.7733L66.1653 47H64.5813ZM60.8193 35.84H60.7293L58.6053 41.96H62.9433L60.8193 35.84ZM72.8601 34.436V42.212C72.8601 43.412 73.0821 44.324 73.5261 44.948C73.9701 45.56 74.7501 45.866 75.8661 45.866C76.9821 45.866 77.7621 45.56 78.2061 44.948C78.6501 44.324 78.8721 43.412 78.8721 42.212V34.436H80.3841V41.852C80.3841 42.764 80.3001 43.556 80.1321 44.228C79.9761 44.9 79.7181 45.458 79.3581 45.902C78.9981 46.346 78.5241 46.676 77.9361 46.892C77.3601 47.108 76.6521 47.216 75.8121 47.216C74.9721 47.216 74.2641 47.108 73.6881 46.892C73.1241 46.676 72.6681 46.346 72.3201 45.902C71.9721 45.458 71.7201 44.9 71.5641 44.228C71.4201 43.556 71.3481 42.764 71.3481 41.852V34.436H72.8601ZM88.5693 47H87.0573V34.436H92.0613C93.1653 34.436 94.0233 34.742 94.6353 35.354C95.2593 35.966 95.5713 36.848 95.5713 38C95.5713 38.924 95.3553 39.686 94.9233 40.286C94.5033 40.874 93.8793 41.264 93.0513 41.456L95.9313 47H94.2213L91.5033 41.6H88.5693V47ZM92.0613 40.304C92.6613 40.304 93.1233 40.148 93.4473 39.836C93.7833 39.524 93.9513 39.08 93.9513 38.504V37.568C93.9513 36.992 93.7833 36.548 93.4473 36.236C93.1233 35.924 92.6613 35.768 92.0613 35.768H88.5693V40.304H92.0613ZM109.857 47L108.597 43.292H103.521L102.261 47H100.731L105.123 34.436H107.049L111.441 47H109.857ZM106.095 35.84H106.005L103.881 41.96H108.219L106.095 35.84ZM119.984 39.332L118.472 36.542H118.418V47H116.942V34.436H118.688L123.278 42.104L124.79 44.894H124.844V34.436H126.32V47H124.574L119.984 39.332ZM137.319 35.768V47H135.807V35.768H131.811V34.436H141.315V35.768H137.319Z" fill="#252F3F"/>
                <path d="M68.9122 15.5625C68.9122 15.9043 68.9561 16.3096 69.0439 16.7783C69.0537 16.8271 69.1342 17.0005 69.2854 17.2983C69.4366 17.5962 69.5683 17.9551 69.6805 18.375C69.7927 18.7949 69.8488 19.2637 69.8488 19.7812H68.9122C68.9122 19.7715 68.9049 19.6836 68.8903 19.5176C68.8756 19.3516 68.8561 19.1782 68.8317 18.9976C68.8073 18.8169 68.7781 18.6216 68.7439 18.4116C68.7098 18.2017 68.6683 18.0063 68.6195 17.8257C68.5707 17.645 68.5122 17.5156 68.4439 17.4375C68.2195 17.2031 68.0854 16.9712 68.0415 16.7417C67.9976 16.5122 67.9756 16.1191 67.9756 15.5625C67.9756 14.7812 68.1585 14.1172 68.5244 13.5703C68.8903 13.0234 69.3317 12.75 69.8488 12.75C69.9951 12.75 70.1512 12.7793 70.3171 12.8379C69.9073 13.0039 69.5707 13.3359 69.3073 13.834C69.0439 14.332 68.9122 14.9082 68.9122 15.5625ZM66.1025 11.9883C66.1025 12.3594 66.1464 12.7939 66.2342 13.292C66.7707 13.8975 67.039 14.7178 67.039 15.7529C67.039 17.4619 66.8829 18.6484 66.5707 19.3125C66.2585 17.8965 66.1025 16.71 66.1025 15.7529C66.1025 15.001 66.0585 14.5664 65.9707 14.4492C65.4342 13.8438 65.1659 13.0234 65.1659 11.9883C65.1659 11.168 65.3488 10.4648 65.7146 9.87891C66.0805 9.29297 66.522 9 67.039 9C67.1854 9 67.3415 9.03418 67.5073 9.10254C67.0976 9.26855 66.761 9.62012 66.4976 10.1572C66.2342 10.6943 66.1025 11.3047 66.1025 11.9883ZM72.3805 22.1982C72.1756 22.6865 71.9098 23.1089 71.5829 23.4653C71.2561 23.8218 70.9122 24 70.5512 24H64.4634C64.1025 24 63.7561 23.8193 63.4244 23.458C63.0927 23.0967 62.8244 22.667 62.6195 22.1689C62.4537 22.0713 62.2049 21.9297 61.8732 21.7441C61.5415 21.5586 61.2927 21.417 61.1268 21.3193C60.961 21.2217 60.7756 21.1021 60.5707 20.9604C60.3659 20.8188 60.2195 20.6919 60.1317 20.5796C60.0439 20.4673 60.0049 20.3574 60.0146 20.25H75C75 20.3965 74.9561 20.5381 74.8683 20.6748C74.7805 20.8115 74.6366 20.9482 74.4366 21.085C74.2366 21.2217 74.0488 21.3364 73.8732 21.4292C73.6976 21.522 73.4512 21.6489 73.1342 21.8101C72.8171 21.9712 72.5659 22.1006 72.3805 22.1982Z" fill="#633112"/>
            </svg>
            </div>
            <span>
                <svg class="w-20 h-20 fill-current animate-spin" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0)">
                    <path d="M15.9999 7.99986C15.9813 6.95741 15.757 5.9289 15.3398 4.97339C14.9226 4.01787 14.3208 3.15417 13.5689 2.43186C12.4616 1.36181 11.0615 0.644606 9.54617 0.371156C8.03081 0.0977063 6.46837 0.280324 5.0569 0.895862C4.1339 1.30086 3.2989 1.88786 2.6079 2.60786C1.9169 3.32786 1.3709 4.18186 1.0109 5.10486C0.289271 6.95891 0.330614 9.02319 1.1259 10.8469C1.5179 11.7389 2.0869 12.5469 2.7839 13.2149C3.4809 13.8829 4.3069 14.4099 5.1999 14.7579C6.09149 15.1043 7.04259 15.2719 7.9989 15.2509C9.41445 15.2234 10.7901 14.7768 11.9517 13.9674C13.1134 13.158 14.0089 12.0223 14.5249 10.7039C14.7278 10.1818 14.8671 9.63722 14.9399 9.08186L14.9989 9.08386C15.1372 9.08379 15.2739 9.05504 15.4005 8.99943C15.5271 8.94382 15.6408 8.86256 15.7344 8.76079C15.828 8.65901 15.8995 8.53893 15.9443 8.40813C15.9892 8.27733 16.0064 8.13866 15.9949 8.00086H15.9989L15.9999 7.99986ZM14.4109 10.6549C14.0439 11.4859 13.5129 12.2389 12.8609 12.8609C12.2089 13.4829 11.4389 13.9729 10.6069 14.2949C9.77599 14.6166 8.88966 14.7709 7.9989 14.7489C7.12052 14.7299 6.25453 14.5377 5.45058 14.1833C4.64662 13.829 3.92052 13.3194 3.3139 12.6839C2.71568 12.0572 2.24675 11.3188 1.9339 10.5109C1.31237 8.90223 1.35408 7.11278 2.0499 5.53486C2.3919 4.76486 2.8859 4.06686 3.4909 3.49086C4.0959 2.91486 4.8119 2.46186 5.5829 2.16486C6.3539 1.86686 7.1789 1.72686 7.9989 1.74886C8.8189 1.77086 9.6279 1.95086 10.3669 2.28086C11.1069 2.60986 11.7769 3.08586 12.3299 3.66786C12.8829 4.24986 13.3179 4.93786 13.6019 5.67886C13.8856 6.41854 14.0205 7.20694 13.9989 7.99886H14.0029C13.9813 8.25872 14.062 8.51674 14.2279 8.71793C14.3938 8.91912 14.6317 9.04756 14.8909 9.07586C14.7945 9.61927 14.633 10.1491 14.4099 10.6539L14.4109 10.6549Z" />
                    </g>
                    <defs>
                    <clipPath id="clip0">
                    <rect width="16" height="16" />
                    </clipPath>
                    </defs>
                </svg>
            </span>
        </span>
    </div>
</ng-template>
